# アニメーション

配置したパーツに画像を設定したり、アニメーションを設定するときには以下のようにします。

- アニメーションをつくる
  - アニメーションをつくるには予め[画像](/guide/texture/)を登録しておく必要があります。
- 作ったアニメーションをパーツに適用する

## アニメーションの新規作成
ツールバーから「アニメーションの追加と管理」ボタンをおします。

![アニメーションの追加](./images/show-animation-window-navbar.png)

追加ボタンを押します

![アニメーションの追加ボタンの位置](./images/animation-window-with-add-button.png)

表示されるウインドウの「よみこむ」ボタンを押してアニメーションにしたい画像を選びます（一枚しか選べません）

::: tip 画像の選択
予め[画像](/guide/texture/)を登録しておく必要があります。
:::

![アニメーションの編集ウインドウ（初期状態）](./images/animation-edit-window-initialstate.png)

画像を選び終わると以下のような画面が表示されます

![アニメーションの編集ウインドウ（画像選択後）](./images/animation-edit-window.png)

以下のように編集していきます

1. 名称を決定します。
1. グリッドサイズを設定します。アニメーション1コマあたりの大きさを設定すると良いです。
1. はじめのコマを選択します。選択した画像が表示されている領域をドラッグすると矩形選択ができます。
1. フレームリストに追加したコマが表示されていきます。フレームリストの数字を変更するとコマ送りの速さを調整できます。
1. つぎつぎとアニメーションを設定していきます。
1. タイルモード（大きさを変更したときに画像を並べて表示する機能）を有効にする場合は「[タイルモード](#タイルモード)」にチェックを入れます。
1. 編集が完了したら「追加」ボタンを押します。

## タイルモード

タイルモードにするとパーツのサイズを変えたときにアニメーションが並べて表示されます。

[アニメーション編集画面](#アニメーションの新規作成)で設定できます。

![タイルモード](./images/tiling.png)

## アニメーションの削除
アニメーションを削除するには、ツールバーの「アニメーションの追加と管理」を押して表示されるウインドウから削除したい画像にカーソルを合わせ、「×」ボタンを押します。

![アニメーションの削除](./images/remove-animation-window.png)

::: warning 注意
アニメーションがパーツに適用されている状態でも削除できてしまいます。この場合、該当のパーツにはアニメーション適用前の「はてなマーク」が表示されます。
:::

## 静止画をアニメーションとして登録するコツ

![土の壁マップチップ](./images/wallchips.png)

たとえばかべを作るとすると、以下のようなマップチップが必要になりそうですが、1チップにつき1つのアニメーションを作るのは大変なので、以下のように作ります。

![土の壁マップチップの登録](./images/register-wallchips.png)

このようにマップチップを1コマずつひとつのアニメーションに登録します。すべてのフレームを選択し終えたら「フレーム間隔の一括設定」を0fpsにして「適用」し、すべてのフレーム送り間隔を0fpsにします。

::: tip フレーム間隔が0fpsのとき
フレーム間隔が0fpsのときはアニメーションのコマ送りが行われなくなります
:::

パーツにアニメーションを適用するときは、フレーム番号を設定することで表示するコマを選択することができます。

![フレームの選択](./images/select-frame.png)
